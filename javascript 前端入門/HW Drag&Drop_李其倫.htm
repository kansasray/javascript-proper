<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript">
	var box;
	function init(){
		box=document.getElementById("box");
		box.addEventListener("mousedown",drag);
	}
	function drag(){
		document.addEventListener("mousemove",move)
		box.removeEventListener("mousedown",drag);
		box.addEventListener("mouseup",drop);
	}
	function move(e){//讓box左上角和mouse相對位置不變
		var diffX=e.clientX-box.offsetLeft;//算x軸差異;
		var diffY=e.clientY-box.offsetTop;//算y軸差異;
		box.style.left=(e.clientX-diffX)+"px";
		box.style.top=(e.clientY-diffY)+"px";
	}
	function drop(e){
		document.removeEventListener("mousemove",move);
		box.removeEventListener("mouseup",drop);
		box.addEventListener("mousedown",drag);
	}

	</script>
	<style type="text/css">
	.box{width: 100px;height: 100px;background-color: purple; 
		position: absolute;top: 100px;left: 100px;
	}
	</style>
</head>
<body onload="init();">
<span class="box" id="box"></span>
</body>
</html>